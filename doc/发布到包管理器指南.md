# å‘å¸ƒå‘½ä»¤è¡Œé¡¹ç›®åˆ°åŒ…ç®¡ç†å™¨æŒ‡å—

å°†ä½ çš„ Rust å‘½ä»¤è¡Œå·¥å…·å‘å¸ƒåˆ°å„ç§å¹³å°çš„åŒ…ç®¡ç†å™¨å¯ä»¥æå¤§åœ°æå‡é¡¹ç›®çš„å¯å‘ç°æ€§å’Œæ˜“ç”¨æ€§ã€‚ä»¥ä¸‹æ˜¯é’ˆå¯¹ä¸åŒå¹³å°çš„è¯¦ç»†æŒ‡å—ï¼š

## ğŸ“¦ crates.io (Rust å®˜æ–¹åŒ…ç®¡ç†å™¨)

è¿™æ˜¯å‘å¸ƒ Rust é¡¹ç›®çš„é¦–é€‰å¹³å°ï¼Œä¹Ÿæ˜¯æœ€ç›´æ¥çš„æ–¹å¼ã€‚

### å‘å¸ƒæ­¥éª¤:
1. **åˆ›å»º crates.io è´¦æˆ·**
   - è®¿é—® [crates.io](https://crates.io) å¹¶ä½¿ç”¨ GitHub è´¦æˆ·ç™»å½•
   - ç”Ÿæˆ API token å¹¶é…ç½®åˆ°æœ¬åœ°

2. **é…ç½® Cargo.toml**
   - ç¡®ä¿åŒ…å«å¿…è¦çš„å…ƒæ•°æ®:
     ```toml
     [package]
     name = "your-crate-name"
     version = "0.1.0"
     authors = ["Your Name <your.email@example.com>"]
     edition = "2021"
     description = "A brief description of your project"
     homepage = "https://github.com/yourusername/your-project"
     repository = "https://github.com/yourusername/your-project"
     documentation = "https://docs.rs/your-crate-name"
     readme = "README.md"
     keywords = ["cli", "file-manager", "terminal"]
     categories = ["command-line-utilities"]
     license = "MIT"
     ```

3. **å‘å¸ƒå‘½ä»¤**
   ```bash
   # ç™»å½• (åªéœ€ä¸€æ¬¡)
   cargo login YOUR_API_TOKEN
   
   # å‘å¸ƒ
   cargo publish
   ```

### æ³¨æ„äº‹é¡¹:
- åç§°å¿…é¡»å”¯ä¸€ä¸”æœªè¢«å ç”¨
- ç‰ˆæœ¬å·éµå¾ªè¯­ä¹‰åŒ–ç‰ˆæœ¬è§„èŒƒ
- éœ€è¦æœ‰æ•ˆçš„è®¸å¯è¯æ–‡ä»¶

## ğŸº Homebrew (macOS)

Homebrew æ˜¯ macOS ä¸Šæœ€æµè¡Œçš„åŒ…ç®¡ç†å™¨ã€‚

### å‘å¸ƒæ­¥éª¤:
1. **åˆ›å»º Homebrew Formula**
   - åœ¨ä½ çš„é¡¹ç›®ä»“åº“ä¸­åˆ›å»º `Formula/your-project.rb` æ–‡ä»¶
   - ç¤ºä¾‹å†…å®¹:
     ```ruby
     class YourProject < Formula
       desc "A command-line file manager written in Rust"
       homepage "https://github.com/yourusername/your-project"
       url "https://github.com/yourusername/your-project/archive/v0.1.0.tar.gz"
       sha256 "YOUR_TARBALL_CHECKSUM"
       license "MIT"
       
       depends_on "rust" => :build
       
       def install
         system "cargo", "install", *std_cargo_args
       end
       
       test do
         assert_match "YourProject v#{version}", shell_output("#{bin}/your-project --version")
       end
     end
     ```

2. **æäº¤åˆ° Homebrew Core**
   - Fork [homebrew-core](https://github.com/Homebrew/homebrew-core)
   - æ·»åŠ ä½ çš„ Formula æ–‡ä»¶
   - æäº¤ Pull Request

### æ³¨æ„äº‹é¡¹:
- éœ€è¦ç¨³å®šçš„ç‰ˆæœ¬å‘å¸ƒå’Œ tarball
- é¡¹ç›®éœ€è¦æœ‰ä¸€å®šç”¨æˆ·åŸºç¡€å’Œå…³æ³¨åº¦
- éµå¾ª Homebrew çš„æäº¤è§„èŒƒ

## ğŸ§ AUR (Arch User Repository)

AUR æ˜¯ Arch Linux åŠå…¶è¡ç”Ÿç‰ˆçš„ç¤¾åŒºé©±åŠ¨è½¯ä»¶ä»“åº“ã€‚

### å‘å¸ƒæ­¥éª¤:
1. **åˆ›å»º PKGBUILD æ–‡ä»¶**
   - ç¤ºä¾‹å†…å®¹:
     ```bash
     pkgname=your-project
     pkgver=0.1.0
     pkgrel=1
     pkgdesc="A command-line file manager written in Rust"
     arch=('x86_64')
     url="https://github.com/yourusername/your-project"
     license=('MIT')
     depends=('gcc-libs')
     makedepends=('rust' 'cargo')
     source=("$pkgname-$pkgver.tar.gz::https://github.com/yourusername/your-project/archive/v$pkgver.tar.gz")
     sha256sums=('SKIP')
     
     build() {
       cd "$pkgname-$pkgver"
       cargo build --release --locked
     }
     
     package() {
       cd "$pkgname-$pkgver"
       install -Dm755 "target/release/your-project" "$pkgdir/usr/bin/your-project"
       install -Dm644 README.md "$pkgdir/usr/share/doc/your-project/README.md"
     }
     ```

2. **ä¸Šä¼ åˆ° AUR**
   - åœ¨ [AUR](https://aur.archlinux.org) åˆ›å»ºè´¦æˆ·
   - ä½¿ç”¨ `git` æ¨é€ä½ çš„ PKGBUILD åˆ° AUR

### æ³¨æ„äº‹é¡¹:
- éœ€è¦ç»´æŠ¤è€…å®šæœŸæ›´æ–°ç‰ˆæœ¬
- éµå¾ª Arch Linux æ‰“åŒ…æŒ‡å—

## ğŸªŸ Chocolatey (Windows)

Chocolatey æ˜¯ Windows ä¸Šçš„åŒ…ç®¡ç†å™¨ã€‚

### å‘å¸ƒæ­¥éª¤:
1. **åˆ›å»º Nuspec æ–‡ä»¶**
   - ç¤ºä¾‹å†…å®¹:
     ```xml
     <?xml version="1.0" encoding="utf-8"?>
     <package xmlns="http://schemas.microsoft.com/packaging/2015/06/nuspec.xsd">
       <metadata>
         <id>your-project</id>
         <version>0.1.0</version>
         <title>Your Project</title>
         <authors>Your Name</authors>
         <description>A command-line file manager written in Rust</description>
         <projectUrl>https://github.com/yourusername/your-project</projectUrl>
         <licenseUrl>https://github.com/yourusername/your-project/blob/main/LICENSE</licenseUrl>
         <tags>cli file-manager rust</tags>
       </metadata>
     </package>
     ```

2. **æ‰“åŒ…å’Œæäº¤**
   - ä½¿ç”¨ `choco pack` åˆ›å»ºåŒ…
   - æäº¤åˆ° [Chocolatey](https://chocolatey.org)

### æ³¨æ„äº‹é¡¹:
- éœ€è¦ Windows äºŒè¿›åˆ¶æ–‡ä»¶
- éµå¾ª Chocolatey çš„å®¡æ ¸æµç¨‹

## ğŸ³ Docker Hub

è™½ç„¶ä¸æ˜¯ä¼ ç»Ÿæ„ä¹‰ä¸Šçš„åŒ…ç®¡ç†å™¨ï¼Œä½† Docker æ˜¯åˆ†å‘ CLI å·¥å…·çš„æœ‰æ•ˆæ–¹å¼ã€‚

### å‘å¸ƒæ­¥éª¤:
1. **åˆ›å»º Dockerfile**
   - ç¤ºä¾‹å†…å®¹:
     ```dockerfile
     FROM rust:1.70 as builder
     WORKDIR /usr/src/your-project
     COPY . .
     RUN cargo install --path .
     
     FROM gcr.io/distroless/cc-debian12
     COPY --from=builder /usr/local/cargo/bin/your-project /usr/local/bin/your-project
     ENTRYPOINT ["your-project"]
     ```

2. **æ„å»ºå’Œæ¨é€**
   ```bash
   docker build -t yourusername/your-project:latest .
   docker push yourusername/your-project:latest
   ```

### æ³¨æ„äº‹é¡¹:
- æä¾›æ¸…æ™°çš„ä½¿ç”¨æ–‡æ¡£
- å®šæœŸæ›´æ–°åŸºç¡€é•œåƒ

## ğŸ§ª å…¶ä»–å¹³å°

### Snapcraft (Universal Linux)
- é€‚ç”¨äºæ‰€æœ‰ä¸»æµ Linux å‘è¡Œç‰ˆ
- åˆ›å»º `snap/snapcraft.yaml` é…ç½®æ–‡ä»¶

### Scoop (Windows)
- åˆ›å»º JSON æ ¼å¼çš„ manifest æ–‡ä»¶
- æäº¤åˆ° [Scoop Extras](https://github.com/ScoopInstaller/Extras)

### Winget (Windows)
- å¾®è½¯å®˜æ–¹åŒ…ç®¡ç†å™¨
- æäº¤åˆ° [winget-pkgs](https://github.com/microsoft/winget-pkgs)

## ğŸ”„ è‡ªåŠ¨åŒ–å‘å¸ƒ

ä½¿ç”¨ GitHub Actions å¯ä»¥è‡ªåŠ¨åŒ–å‘å¸ƒåˆ°å¤šä¸ªå¹³å°:

```yaml
name: Release
on:
  push:
    tags:
      - 'v*'
jobs:
  release:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: Publish to crates.io
        run: |
          cargo login ${{ secrets.CRATES_IO_TOKEN }}
          cargo publish
```

## ğŸ“ æœ€ä½³å®è·µ

1. **ç»Ÿä¸€ç‰ˆæœ¬ç®¡ç†**
   - æ‰€æœ‰å¹³å°ä½¿ç”¨ç›¸åŒçš„ç‰ˆæœ¬å·
   - éµå¾ªè¯­ä¹‰åŒ–ç‰ˆæœ¬è§„èŒƒ

2. **æ–‡æ¡£å®Œå–„**
   - æä¾›æ¸…æ™°çš„å®‰è£…å’Œä½¿ç”¨è¯´æ˜
   - åŒ…å«æ•…éšœæ’é™¤æŒ‡å—

3. **æŒç»­ç»´æŠ¤**
   - å®šæœŸæ›´æ–°ç‰ˆæœ¬
   - å“åº”ç”¨æˆ·åé¦ˆ

4. **è´¨é‡ä¿è¯**
   - ç¡®ä¿å‘å¸ƒçš„äºŒè¿›åˆ¶æ–‡ä»¶ç¨³å®šå¯é 
   - æä¾›æ ¡éªŒå’Œæˆ–ç­¾å

é€šè¿‡ä»¥ä¸Šæ–¹å¼ï¼Œä½ å¯ä»¥è®©ä½ çš„ Rust å‘½ä»¤è¡Œå·¥å…·è§¦è¾¾æ›´å¤šç”¨æˆ·ï¼Œå¹¶æå‡é¡¹ç›®çš„ä¸“ä¸šæ€§å’Œå¯ä¿¡åº¦ã€‚